---
title: Java 簡介 01
date: 2024-05-31 09:22:39
tags: 
    - 職訓
    - Java
categories: 
    - [職訓, Java]
    - Java
description: "課程內容：<br>Ch.7 認識Java的函數<br>Ch.8 認識Java的類別<br>
尚未整理完畢"
---

#### 認識Java的函數

Java將函數稱為`method`

```java
public static 傳回值型態 函數名稱(型態 引數1, 型態 引數2,...){
    程式敘述;
    return 運算式;      // 沒有要回傳的話可以省略
}
```

範例：

```java
public class hw7_1{
public static void main(String args[]){
   proverb();
}
private static void proverb(){
      System.out.print("Two heads are better than one.");
   }
}
```

> 執行 `proverb();` 
> 可得 `System.out.print("Two heads are better than one.");`印出結果
> 印出 `Two heads are better than one.`

##### 函數引數傳遞的方法

##### 函數遞迴的撰寫

##### 認識函數的多數

#### 認識類別

##### 在類別裡使用資料成員與函數成員

##### 學習this關鍵字的用法

> this：強調類別本身的成員，而非`變數成員`。
> 可以在前方加上this

```java
class test{
    int num=5;
    void show(){
        int num=10;
        System.out.println("this.num: "+this.num);
        System.out.println("num: "+num);
    }
}

public class aaaaaa{
    public static void main(String args[]){
        test obj;
        obj = new test();
        obj.show();
    }
}
```

> print：
>> this.num: 5
>> num: 10

如果把obj.num變數設為 8

```JAVA
class test{
    int num=5;
    void show(){
        int num=10;
        System.out.println("this.num: "+this.num);
        System.out.println("num: "+num);
    }
}

public class aaaaaa{
    public static void main(String args[]){
        test obj;
        obj = new test();
        obj.num=8
        obj.show();
    }
}
```

> print 的結果：
>> this.num: 8
>> num: 10
  
##### 在類別裡設計函數的多載

1. 類別(class)裡的成員可以設定很多組，用引數控制類別取得的內容

   ```Java 類別的多載範例

    class CCalculator{
        int a,b,c;
        double area(int base, int height){
            a=base;
            b=height;
            return a*b/2;
        }
        double area(double radius){
            double a=radius;
            return a*a*3.14;
        }
        double area(int upper,int base,int height){
            a=upper;
            b=base;
            c=height;
            return (a+b)*c/2;
        }
    }

    public class hw8_4{
        public static void main(String arg[]){
            Scanner scn=new Scanner(System.in);
            CCalculator CC;
            CC = new CCalculator();
            int a,b,c;
            
            System.out.println("請輸入第一個數字：");
            a = scn.nextInt();
            System.out.println("請輸入第二個數字：");
            b = scn.nextInt();
            System.out.println("請輸入第三個數字：");
            c = scn.nextInt();
            
            System.out.println("圓形面積="+CC.area(a));
            System.out.println("三角形面積="+CC.area(a,b));
            System.out.println("梯形面積="+CC.area(a,b,c));
        }
    }

   ```

   如上範例，類別`CCalculator`裡同時設定了三個不同的`double area()`
   裡面各由不同數量的引數控制，代表不同的項目

   ```JAVA
    double area(double radius){     // 比如說這個CCalculator area()裡只有一個引數
            double a=radius;        // 引數設定是將類別成員(int a)的名稱設為半徑(radius)
            return a*a*3.14;        // 回傳值是計算圓面積的結果
        }
    

    // 這個這個CCalculator area()裡有三個引數
    // 回傳值是計算梯形面積的結果
    double area(int upper,int base,int height){
        a=upper;
        b=base;
        c=height;
        return (a+b)*c/2;
    }

    ```

    在類別裡設定好後，可以在`main()`呼叫
    用不同的引數會直接呼叫不同的`CCalculator area()`

    ```Java
    public class hw8_4{
        public static void main(String arg[]){
            Scanner scn=new Scanner(System.in);
            CCalculator CC;
            CC = new CCalculator();
            int a,b,c;
            
            System.out.println("請輸入第一個數字：");
            a = scn.nextInt();
            System.out.println("請輸入第二個數字：");
            b = scn.nextInt();
            System.out.println("請輸入第三個數字：");
            c = scn.nextInt();
            
            System.out.println("圓形面積="+CC.area(a));
            System.out.println("三角形面積="+CC.area(a,b));
            System.out.println("梯形面積="+CC.area(a,b,c));
        }
    }
    ```

    ``System.out.println("圓形面積="+CC.area(a));``
    由於只有一個引數，所以會直接回傳 **半徑=a** 的圓面積計算結果
    ``System.out.println("三角形面積="+CC.area(a,b));`` 
    有二個引數，所以會回傳 **底=a, 高=b** 的三角形面積計算結果
    ``System.out.println("梯形面積="+CC.area(a,b,c));`` 
    有三個引數，所以會回傳 上**底=a, 下底=b, 高=c** 的三角形面積計算結果

    > 類別要寫在同一支code裡，不然就要打包用`import`
    >> 注意到嗎？多載裡的引數可以分開設定。
    >
    >簡單來說就是把自己要的規則在類別裡用引數設定好，`main()`要用的時候可以直接呼叫

2. 多載常犯的錯誤

    + 多載不能引數內容相同，僅有型態不同

    ```java
        void double setCircle(double r){};
        int double setCircle(double r){};
        這樣的程式碼是錯誤的！
        因為引數相同，Java 無法判斷哪個函數被呼叫

        void double setCircle(double r, String color){};
        int double setCircle(double r){};
        這樣就可以執行
        會依據多載的引數不同，傳回相應型態多載的內容
    ```

##### 學習如何使用類別裡的公有與私有成員

在類別外(ex. `main()`)存取類別成員時，如果沒有設相關限制
容易出bug或安全漏洞

    ex. radius = -2
        但是r*r = -2*-2 = 4
        出現輸入負數一樣可以出現結果的bug

可以用設定修飾子`public`, `private` 來設定類別成員的公有和私有。

  + private 
    + 只能被同個類別裡的其他成員存取
    + 不能被類別外存取
    + 也不能被其他package存取
  + public
    + 可以被其他類別存取
    + 也可以被其他package存取
  + 沒有設定private或public
    + 可以被同個package的類別外存取
    + 不能被其他package存取

```java hw8_5_試指出下列程式碼錯誤之處，並加以訂正：
class CWin
{
    private int width;   
    private int height;   
       
    public void show_area()
    {
       System.out.println("area="+width*height);       
    }    
 }
 
 public class ch8_5
 {
    public static void main(String args[])
    {
       CWin win1=new CWin();
       win1.width=-5;
       win1.height=12;
       win1.show_area();
    }
 }
```

由於`width`和`heigh`被設定為private, 不能被`main()`存取
所以會報錯

```java hw8_5 修改後的內容
class CWin
{
   private int width;   
   private int height;   
        
     public void show_area()
     {
        System.out.println("area="+area());
     }

/* w,h 分開寫的版本
     public void setWidth(int w){
      if (w>0){
         width = w;
         System.out.println("Width: " +width);
      }else{
         System.out.println("width error");
      }
     }
     
     public void setHeight(int h){
      if (h>0){
         height = h;
         System.out.println("height: " +height);
      }else{
         System.out.println("height error");
      }
     }
*/     

     public void setVal(int w, int h){
      if(w>0&&h>0){
         width=w;
         height=h;
         System.out.println("Width: " +width);
         System.out.println("height: " +height);
      }else{
         System.out.println("Input error");
         }
     }
      
      
     private double area(){
      return width*height;
     }
      
 }
  
public class hw8_5
{
  public static void main(String args[])
  {
     CWin win1=new CWin();
     win1.setVal(-5,12);
     // win1.setWidth(-5);
     // win1.setHeight(-12);
     win1.show_area();
  }
}
```

> 用`setVal()`重新設定`width`和`height`的數值
> 在裡面跑判斷式規範數值範圍
> 重新呼叫新的函式

```java 顯示結果
Input error
area=0.0
```

---

#### 後記
