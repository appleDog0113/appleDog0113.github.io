---
title: "Laravel-09-專案二: 賣茶網"
date: 2024-07-11 08:32:48
tags:
  - 職訓
  - Laravel
categories:
  - [職訓, Laravel]
  - Laravel
description: "後台news頁面上傳圖片欄位製作、加入lightbox效果、製作news前台頁面"
---

### 製作最新消息頁面

#### 後台news頁面製作

##### NewsController新增上傳圖片需使用的方法

```php app\Http\Controllers\Admin\News\NewsController.php
public function insert(Request $req)
{
    $photo = $req->photo;
    $times = explode(" ", microtime());
    $fileName = $times[1] . "." . $photo->extension();

    if (!file_exists("images")) {
        mkdir("images", 0777);
    }

    if (!file_exists("images/news")) {
        mkdir("images/news", 0777);
    }

    $photo->move("images/news", $fileName);

    $news = new News();
    $news->typeId = $req->typeId;
    $news->title = $req->title;
    $news->subtitle = $req->subtitle;
    $news->dates = $req->dates;
    $news->content = $req->content;
    $news->photo = $fileName;
    $news->save();

    Session::flash("message", "已新增");
    return redirect("admin/news/list");
}
```

{% note info %}

```php 處理上傳圖片
$photo = $req->photo;
$times = explode(" ", microtime());
$fileName = $times[1] . "." . $photo->extension();

if (!file_exists("images")) {
    mkdir("images", 0777);
}

if (!file_exists("images/news")) {
    mkdir("images/news", 0777);
}

$photo->move("images/news", $fileName);
```

1. 準備將上傳的圖片檔名重設為毫秒 `$times = explode(" ", microtime());`, `$fileName = $times[1] . "." . $photo->extension();`
2. 新建資料夾路徑，賦予權限777（其實可以不用開這麼大）
3. 將圖片移動到新資料夾，賦予新檔名`$fileName`
4. `$news->photo = $fileName;` 將資料庫圖片內容設為`$filename`，避免存入暫存檔

{% endnote %}

##### 新增頁面edit.blade

複製add.blade的修改就行了

```php resources\views\admin\news\edit.blade.php
@extends("admin.app")
@section("title","修改最新消息")
@section("content")
<link rel="stylesheet" href="/css/admin/ckeditor.css">

<div class="row">
    <div class="col-12">
        <div class="card">
            <div class="card-header">
                <a href="../list" class="btn btn-info">回上頁</a>
            </div>
            <div class="card-body">
                <form method="post" action="../update" enctype="multipart/form-data">
                    <input type="hidden" name="id" value="{{ $news->id}}">
                    {{ csrf_field() }}
                    <div class="row mt-3">
                        <label class="col-2 text-end form-label">類別</label>
                        <div class="col-2">
                            <select name="typeId" id="typeId" class="form-control text-center" required>
                                <option value="" disabled>---請選擇類別---</option>
                                @foreach($list as $data)
                                <option value="{{ $data->id }}" {{ $data->id == $news->typeId ?  " selected" : ""}}>{{ $data->title }}</option>
                                @endforeach
                            </select>
                        </div>
                    </div>
                    <div class="row mt-3">
                        <label class="col-2 text-end form-label">標題</label>
                        <div class="col-6">
                            <input type="text" class="form-control" name="title" id="title" value="{{$news->title}}" required>
                        </div>
                    </div>
                    <div class="row mt-3">
                        <label class="col-2 text-end form-label">次標題</label>
                        <div class="col-6">
                            <input type="text" class="form-control" name="subtitle" id="subtitle" value="{{$news->subtitle}}" required>
                        </div>
                    </div>
                    <div class="row mt-3">
                        <label class="col-2 text-end form-label">日期</label>
                        <div class="col-2">
                            <input type="date" class="form-control" name="dates" id="dates" value="{{$news->dates}}" required>
                        </div>
                    </div>
                    <div class="row mt-3">
                        <label class="col-2 text-end form-label">內容</label>
                        <div class="col-6">
                            <textarea class="form-control editor" name="content" id="editor">{!! $news->content !!}</textarea>
                        </div>
                    </div>
                    <div class="row mt-3">
                        <label class="col-2 text-end form-label">圖檔</label>
                        <div class="col-6">
                            <input type="file" class="form-control mb-3" name="photo" id="photo">
                            @if(!empty($news->photo))
                            <img src="/images/news/{{ $news->photo }}" width="250">
                            @endif
                        </div>
                    </div>
                    <div class="row mt-3">
                        <div class="col-10 text-center">
                            <button type="submit" class="btn btn-primary">儲存</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
<script src="https://cdn.ckeditor.com/ckeditor5/41.1.0/super-build/ckeditor.js"></script>
<script src="/js/admin/editor.js"></script>
@endsection
```

{% note info %}

整理筆記的時候大部分內容都已經完成了，
這邊逐項簡單說明

1. 圖檔input的位置新增預覽既有圖片的欄位

    ```php
    @if(!empty($news->photo))
    <img src="/images/news/{{ $news->photo }}" width="250">
    @endif
    ```


2. `<form method="post" action="../update" enctype="multipart/form-data">`
`action`後的連結改為相對路徑，網頁進入的層數才不會多一層

3. 所有`<input>`加上`value="\{\{$news->(該項目id)\}\}"`，讓後端讀取並顯示既有資料
`content`的部分用html方式渲染，`code`要改為`\{!! $news->content !!\}`


{% endnote %}

##### NewsController新增方法 edit、update

```php
public function edit(Request $req)
{
    $news = News::find($req->id);
    $list = NewsType::get();
    return view("admin.news.edit", compact("news","list"));
}

public function update(Request $req)
{
    $photo = $req->photo;
    $news = News::find($req->id);

    if (!empty($photo)) {
        @unlink("images/news/" . $news->photo);
        $times = explode(" ", microtime());
        $fileName = $times[1] . "." . $photo->extension();
        $photo->move("images/news", $fileName);
        $news->photo = $fileName;
    }

    $news->typeId = $req->typeId;
    $news->title = $req->title;
    $news->subtitle = $req->subtitle;
    $news->dates = $req->dates;
    $news->content = $req->content;
    $news->update();

    Session::flash("message", "已修改");
    return redirect("/admin/news/list");
}
```

{% note info %}

修改圖片時要把原資料夾圖片刪除，用新增的圖片取代
~~未來工作可以把所有圖片保留，以避免各種意外~~

```php 修改圖片時將資料夾內的圖片刪除並上傳新圖片
if (!empty($photo)) {
    @unlink("images/news/" . $news->photo);
    $times = explode(" ", microtime());
    $fileName = $times[1] . "." . $photo->extension();
    $photo->move("images/news", $fileName);
    $news->photo = $fileName;
}
```

{% endnote %}

##### list.blade頁面增加圖片lightbox效果

   1. `<body>`最開頭引入相關`css`和`js`

        ```php
        <link rel="stylesheet" href="/css/lightbox.min.css">
        <script src="/js/lightbox.min.js"></script>
        ```

   2. 圖片顯示的位置加入`<a href>`，新增屬性`data-lightbox="photo"`
   完整版:`<a href="/images/news/{{ $data->photo }}" data-lightbox="photo">`

##### 刪除功能製作

新增方法，大家都懂ㄉ

```php app\Http\Controllers\Admin\News\NewsController.php
public function delete(Request $req)
{
    // (new News())->delItem($req->id);

    $ids = $req->id;
    foreach ($ids as $id){
        $news = News::find($id);
        if(!empty($news->photo)){
            @unlink("images/news/" . $news->photo);
        }

        $news->delete();
    }


    Session::flash("message", "已刪除");
    return redirect("/admin/news/list");
}
```

##### 突然想到把時區修改成亞洲台北

```php config\app.php
'timezone' => 'Asia/Taipei',
```

---

#### 製作前台news頁面

##### css檔案搬移

1. 在`/public/css` 底下新增資料夾`/news`
完整路徑：`public\css\news`

2. 將原始檔裡的兩個css檔複製過去
這邊是`news_detail.css`和`tab.css`

##### 製作年份及類別篩選文章功能

網頁上有用年份和類別篩選的功能，在`Model/news`新增兩支方法實作

```php app\Models\News\News.php
public function getYearList(){
    // distinct(): 去除重複資料取唯一值
    $list = self::selectRaw("YEAR(dates) AS year")->distinct()->get();
    return $list;
}

public function getDataList($year, $typeId){

    // 尚未選年份或類別前, where 1=1 一定成立，即表示全部
    //  如果有選年分
    $sql = DB::table("news");

    if(!empty($year)){

        // 查詢條件加上年分
        // whereYear = select * from news where YEAR(dates) = 年
        $sql->whereYear("dates", $year);
    }

    // 如果有選類別
    if(!empty($typeId)){
        $sql->where("typeId", $typeId);
    }

    // 將查詢條件依日期新舊排列, 並設定給list
    $list = $sql->orderby("dates","DESC")->get();
    return $list;
}
```

##### 新增前台FrontNewsController

```Terminal
php artisan make:controller Front/FrontNewsController
```

##### 新增方法

```php app\Http\Controllers\Front\FrontNewsController.php

public function list(Request $req){
    // 取得消息類別
    $types = NewsType::get();

    // 取得年份
    $year = (new News())->getYearList();

    return view("front.news.list", compact("types", "year"));

}

public function getNews(Request $req){

    // 取得所有最新消息
    $list = (new News())->getDataList($req->year, $req->typeId);
    return view("front.news.news", compact("list"));
}

public function detail(Request $req){
    $news = News::find($req->id);

    return view("front.news.detail", compact("news"));
}

```

##### Route串接

1. index.php 串接

    ```php routes\front\index.php
    <?php

    require "news.php";
    ```

2. 建立news.php 串接，取別名News

    ```php
    <?php

    use App\Http\Controllers\Front\FrontNewsController AS News;
    use Illuminate\Support\Facades\Route;

    Route::group(["prefix" => "news"],function(){
        Route::get("/",[News::class, "list"]);
        Route::post("getNews",[News::class, "getNews"]);
        Route::get("detail/{id}",[News::class, "detail"]);
    });
    ```

##### 建立front資料夾 comm.blade 頁面

`comm.blade`是這次的框架，複製原網頁的`news.html`，將內文的部分砍掉。

```php comm.blade完整版
<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>113雲端班專案二：賣茶網</title>
    <meta name="description" content="">
    <meta name="keywords" content=""><!--header的CSS-->
    <link href="/commons/header/fonts/FontAwesome/font-awesome.css" rel="stylesheet">
    <link href="/commons/header/css/bootstrap.min.css" rel="stylesheet">
    <link href="/commons/header/css/animate.css" rel="stylesheet">
    <link href="/commons/header/css/bootsnav.css" rel="stylesheet">
    <link href="/commons/header/css/overwrite.css" rel="stylesheet">
    <link href="/commons/header/css/style.css" rel="stylesheet">
    <link href="/commons/header/skins/color.css" rel="stylesheet">
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries-->
    <style type="text/css">
        @import url(http://fonts.googleapis.com/earlyaccess/cwtexhei.css);
    </style>
    <!--if lt IE 9
    script(src='commons/header/js/html5shiv.min.js')
    script(src='commons/header/js/respond.min.js')
    
    --><!--GotoTop的CSS-->
    <link rel="stylesheet" type="text/css" href="/commons/gototop/css/style.css"><!--footer的CSS-->
    <link rel="stylesheet" type="text/css" href="/commons/footer/css/footer.css">
    <!-- 每頁title的CSS-->
    <link rel="stylesheet" type="text/css" href="/commons/else/css/title.css">
    <!-- Tab的CSS-->
    @if(Request::is("news/*","news"))
    <link href="/css/news/tab.css" rel="stylesheet">
    <!-- News內頁的CSS-->
    <link href="/css/news/news_detail.css" rel="stylesheet">
    @endif
    <!--ScrollWatch滾動淡入-->
    <style>
        .fade_in {
            opacity: 0;
            transition: opacity 2s;
        }

        .fade_in.scroll-watch-in-view {
            opacity: 1;
        }
    </style>
</head>

<body>
    <!-- Start Navigation-->
    <nav class="navbar navbar-default bootsnav">
        <!-- Start Top Search-->
        <div class="top-search">
            <div class="container">
                <div class="input-group"><span class="input-group-addon"><i class="fa fa-search"></i></span>
                    <input type="text" placeholder="Search Products" class="form-control"><span class="input-group-addon close-search"><i class="fa fa-times"></i></span>
                </div>
            </div>
        </div>
        <!-- End Top Search-->
        <div class="container">
            <!-- Start Atribute Navigation-->
            <div class="attr-nav lang_bar">
                <ul>
                    <li class="search"><a href="#"><i class="fa fa-search"></i></a></li>
                </ul>
            </div>
            <!-- End Atribute Navigation-->
            <!-- Start Header Navigation-->
            <div class="navbar-header">
                <button type="button" data-toggle="collapse" data-target="#navbar-menu" class="navbar-toggle"><i class="fa fa-bars"></i></button><a href="/" class="navbar-brand"><img src="/commons/header/img/brand/logo.svg" alt="" class="logo"></a>
            </div>
            <!-- End Header Navigation-->
            <!-- Collect the nav links, forms, and other content for toggling-->
            <div id="navbar-menu" class="collapse navbar-collapse">
                <ul data-in="fadeInDown" data-out="fadeOutUp" class="nav navbar-nav navbar-right">
                    <li>
                        <a href="about.html">
                            <span class="nav_img">
                                <img src="/commons/header/img/i-con/icon_about.svg" alt=""></span>
                            <p class="nav_p">關於</p>
                        </a>
                    </li>
                    <li><a href="news.html">
                            <span class="nav_img">
                                <img src="/commons/header/img/i-con/news_icon.svg" alt="">
                            </span>
                            <p class="nav_p">最新消息</p>
                        </a></li>
                    <li class="dropdown">
                        <a href="#" data-toggle="dropdown" class="dropdown-toggle">
                            <span class="nav_img">
                                <img src="/commons/header/img/i-con/icon_product.svg" alt="">
                            </span>
                            <p class="nav_p">好茶</p>
                        </a>
                        <ul class="dropdown-menu">
                            <li><a href="productlist_1.html">四角茶包</a></li>
                            <li><a href="productlist_2.html">原葉茶包</a></li>
                            <li><a href="productlist_3.html">嚴選茶葉</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="/knowl">
                            <span class="nav_img">
                                <img src="/commons/header/img/i-con/icon_knowl.svg" alt="">
                            </span>
                            <p class="nav_p">品茶知識</p>
                        </a>
                    </li>
                    <li>
                        <a href="/contact">
                            <span class="nav_img">
                                <img src="/commons/header/img/i-con/icon_contact.svg" alt="">
                            </span>
                            <p class="nav_p">聯絡我們</p>
                        </a>
                    </li>
                </ul>
                <ul class="lang_bar">
                    <li class="lang"><a href="#">中文/</a></li>
                    <li class="lang"><a href="#">En/</a></li>
                    <li class="lang"><a href="#">日本語</a></li>
                </ul>
            </div>
            <!-- /.navbar-collapse-->
        </div>
    </nav>
    <!-- End Navigation-->


    @yield("content")


    <div class="footer">
        <div class="icon">
            <ul>
                <li><a href="#"><img src="/commons/footer/img/icon_fb.svg"></a></li>
                <li><a href="#"><img src="/commons/footer/img/icon_line.svg"></a></li>
                <li><a href="#"><img src="/commons/footer/img/icon_ig.svg"></a></li>
                <li><a href="#"><img src="/commons/footer/img/icon_twitter.svg"></a></li>
            </ul>
        </div>
        <div class="nav">
            <ul>
                <li><a href="about.html">關於</a></li>
                <li><a href="news.html">最新消息</a></li>
                <li><a href="productlist_1.html">好茶</a></li>
                <li><a href="knowl.html">品茶知識</a></li>
                <li><a href="contact.html">聯絡我們</a></li>
            </ul>
        </div>
        <div class="logo"><a href="index.html"><img src="commons/footer/img/logo.svg" alt=""></a></div>
        <div class="info">
            <div class="line"><a href="" target="_blank">A . </a><br> <a href="tel:+">T . +</a><br> F . +<br></div>
        </div>
        <div class="copyright"><a href="/copyright.html">智慧財產權聲明</a> © 2017 . All Rights Reserved</div>
    </div>
    <!-- Scroll to Top button selector-->
    <div><a class="to-top"><img src="/commons/gototop/img/gototop.svg" alt=""></a></div>
    <!--header的JS-->
    <script>
        window.jQuery || document.write('<script src="/commons/header/js/jquery-1.11.0.min.js "><\/script>')
    </script>
    <script src="/commons/header/js/bootstrap.min.js "></script>
    <script src="/commons/header/js/bootsnav_2.js "></script>
    <!--GotoTop的JS-->
    <script src="/commons/gototop/js/jquery.toTop.min.js"></script>
    <script>
        jQuery(function($) {
            // Plugin activation (basic)
            // $('.to-top').toTop();
            // Plugin activation with options
            $('.to-top').toTop({
                //options with default values
                autohide: true, //boolean 'true' or 'false'
                offset: 250, //numeric value (as pixels) for scrolling length from top to hide automatically
                speed: 650, //numeric value (as mili-seconds) for duration
                right: 20, //numeric value (as pixels) for position from right
                bottom: 60 //numeric value (as pixels) for position from bottom
            });
        });
    </script>
    @if (Request::is("news/*","news"))
    <!-- ScrollWatch滾動淡入-->
    <script src="/js/about/ScrollWatch-1.2.0.js"></script>
    <script>
        (function() {
            var swInstance = new ScrollWatch({});
        })();
    </script>
    <!-- Tab的JS-->
    <script type="text/javascript">
        $(function() {
            var _showTab = 1;
            var $defaultLi = $('ul.tabs li').eq(_showTab).addClass('active');
            $($defaultLi.find('a').attr('href')).siblings().hide();
            $('ul.tabs li').click(function() {
                var $this = $(this),
                    _clickTab = $this.find('a').attr('href');
                $this.addClass('active').siblings('.active').removeClass('active');
                $(_clickTab).stop(false, true).fadeIn().siblings().hide();
                return false;
            }).find('a').focus(function() {
                this.blur();
            });
        });
    </script>
    @endif
</body>
</html>
```

{% note info %}

1. 把資料夾`/commons`全部複製到`/public`底下，這個資料夾的內容幾乎都是框架的圖片及css...等
2. 記得修改路徑
3. 在要放變動內容的地方`@yield("content")`，之後每個頁面`@section('content')`會放在這邊
4. public頁面新增`news`資料夾，專門裝`news`頁面會用到的`css`
5. 將 `tab.css`, `news_detail.css`放到/public/news資料夾內

    ```php 增加判斷式
    @if(Request::is("news/*","news"))
    <link href="/css/news/tab.css" rel="stylesheet">
    <!-- News內頁的CSS-->
    <link href="/css/news/news_detail.css" rel="stylesheet">
    @endif
    ```

6. 尾巴的`js`也加入判斷式
7. `/public/js`新建`/about`資料夾，將原網頁的`scrollwatch-1.2.0.js`複製過來

{% endnote %}

##### list.blade 撰寫下拉式選單的語法迴圈

原網頁在News頁面有按照年份及類別篩選的功能，以下拉式功能表呈現
用jQuery的$.ajax抓內容

```php
<script>
    $(document).ready(function(){
        getNews();
    });

    function getNews(){
        let year = $("#year").val();
        var typeId = $("#typeId").val();
        $.ajax({
            url: "/news/getNews",
            type: "post",
            data:{
                year: year,
                typeId: typeId,
                _token:"{{ csrf_token() }}"
            },
            success: function(msg){
                $("#list").html(msg);
            }
        });
    }
</script>
```

`list.blade`檔案最下方增加`<div id="list"></div>`
讓`/news/news.blade`頁面內容在這裡呈現

```php list.blade完整版
@extends("front.comm")
@section("content")
<script src="/js/jquery.js"></script>
<script>
    $(document).ready(function() {
        getNews();
    });

    function getNews() {
        let year = $("#year").val();
        var typeId = $("#typeId").val();
        $.ajax({
            url: "/news/getNews",
            type: "post",
            data: {
                year: year,
                typeId: typeId,
                _token: "{{ csrf_token() }}"
            },
            success: function(msg) {
                $("#list").html(msg);
            }
        });
    }
</script>

<div data-scroll-watch="" class="fade_in title">
    <div class="breadcrumbs"><a href="/">首頁</a> / <span>最新消息</span></div>
    <h1 class="top_title">News</h1>
    <div class="top_banner"><img src="/commons/else/img/banner_news.jpg" alt="News"></div>
</div>
<div class="abgne_tab">
    <ul class="chooes">
        <li>
            <select id="year" onchange="getNews()">
                <option value="">所有年份</option>
                @foreach($year as $data)
                <option value="{{ $data->year }}">{{ $data->year }}</option>
                @endforeach
            </select>
        </li>
        <li>
            <select id="typeId" onchange="getNews()">
                <option value="">所有消息</option>
                @foreach($types as $data)
                <option value="{{ $data->id }}">{{ $data->title }}</option>
                @endforeach
            </select>
        </li>
    </ul>
    <ul class="tabs">
        <li><a href="#tab2"><i aria-hidden="true" class="fa fa-bars"></i></a></li>
        <li><a href="#tab1"><i aria-hidden="true" class="fa fa-th"></i></a></li>
    </ul>
    <div id="list">

    </div>
</div>
@endsection
```

##### 建立news.blade頁面

這個頁面是用來裝最新消息頁面的**內容**
前面的list.blade是單純最新消息頁面的**框架**

```php resources\views\front\news\news.blade.php
<div class="tab_container">
    <div id="tab1" class="tab_content">
    @foreach($list as $data)
        <a href="news/detail/{{ $data->id }}">
            <section class="box">
                <img src="/images/news/{{$data->photo}}">
                <div class="date">{{$data->dates}}</div>
                <h3 class="main_title">{{$data->title}}</h3>
                <p class="subtitle">{{$data->subtitle}}...<br> more <i aria-hidden="true" class="fa fa-leaf"></i></p>
            </section>
        </a>
        @endforeach
    </div>
    <div id="tab2" class="tab_content">
    @foreach($list as $data)
        <a href="news_detail.html">
            <section class="line">
                <div class="date">2017-07-04</div>
                <h3 class="main_title">{{$data->title}}</h3>
                <p class="subtitle">{{$data->subtitle}}...<br> more <i aria-hidden="true" class="fa fa-leaf"></i></p>
            </section>
        </a>
        @endforeach
    </div>
</div>
```

1. 修正News Model

    ```php
    public function getDataList($year, $typeId){

        // 尚未選年份或類別前, where 1=1 一定成立，即表示全部
        //  如果有選年分
        // $sql = DB::table("News");
        $sql = self::whereRaw("1 = 1");

        if(!empty($year)){

            // 查詢條件加上年分
            // whereYear = select * from news where YEAR(dates) = 年
            $sql->whereYear("dates", $year);
        }

        // 如果有選類別
        if(!empty($typeId)){
            $sql->where("typeId", $typeId);
        }

        // 將查詢條件依日期新舊排列, 並設定給list
        $list = $sql->orderby("dates","DESC")->get();
        return $list;
    }
    ```

2. 在front/news/list.blade頁面新增JQuery方法，引入類別及年份分類

    在最前方以`$.ajax`的方式引入，
    將得到的資料放到最後面`<div id="list"></div>`內

    ```php resources\views\front\news\list.blade.php
    <script src="/js/jquery.js"></script>
    <script>
        $(document).ready(function() {
            getNews();
        });

        function getNews() {
            $("#list").html("");
            let year = $("#year").val();
            var typeId = $("#typeId").val();
            $.ajax({
                url: "/news/getNews",
                type: "post",
                data: {
                    year: year,
                    typeId: typeId,
                    _token: "{{ csrf_token() }}"
                },
                success: function(msg) {
                    $("#list").html(msg);
                }
            });
        }
    </script>
    ```

3. 在`news.blade`頁面內加入迴圈

    由於內容直接由`$.ajax`抓取，不會讀到獨立頁面
    所以不用extends，只要寫好迴圈就好

    ```php
    <div class="tab_container">
        <div id="tab1" class="tab_content">
        @foreach($list as $data)
            <a href="news/detail/{{ $data->id }}">
                <section class="box">
                    <img src="/images/news/{{$data->photo}}">
                    <div class="date">{{$data->dates}}</div>
                    <h3 class="main_title">{{$data->title}}</h3>
                    <p class="subtitle">{{$data->subtitle}}...<br> more <i aria-hidden="true" class="fa fa-leaf"></i></p>
                </section>
            </a>
            @endforeach
        </div>
        <div id="tab2" class="tab_content">
        @foreach($list as $data)
            <a href="news_detail.html">
                <section class="line">
                    <div class="date">2017-07-04</div>
                    <h3 class="main_title">{{$data->title}}</h3>
                    <p class="subtitle">{{$data->subtitle}}...<br> more <i aria-hidden="true" class="fa fa-leaf"></i></p>
                </section>
            </a>
            @endforeach
        </div>
    </div>
    ```